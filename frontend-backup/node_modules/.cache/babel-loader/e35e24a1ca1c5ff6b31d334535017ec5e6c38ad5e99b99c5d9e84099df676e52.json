{"ast":null,"code":"var _jsxFileName = \"E:\\\\Tour guide\\\\uk-tours\\\\frontend\\\\src\\\\pages\\\\AdminTours.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../api/client.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminTours() {\n  _s();\n  const [tours, setTours] = useState([]);\n  const [form, setForm] = useState({\n    name: '',\n    price: '',\n    contactNumber: '',\n    places: '',\n    days: '',\n    description: ''\n  });\n  const [files, setFiles] = useState([]);\n  const load = async () => {\n    const {\n      data\n    } = await api.get('/tours');\n    setTours(data);\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const onCreate = async e => {\n    e.preventDefault();\n    const fd = new FormData();\n    Object.entries(form).forEach(([k, v]) => fd.append(k, v));\n    Array.from(files).forEach(f => fd.append('photos', f));\n    await api.post('/tours', fd, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    setForm({\n      name: '',\n      price: '',\n      contactNumber: '',\n      places: '',\n      days: '',\n      description: ''\n    });\n    setFiles([]);\n    await load();\n  };\n  const onDelete = async id => {\n    await api.delete(`/tours/${id}`);\n    await load();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold\",\n      children: \"Manage Tours\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onCreate,\n      className: \"card grid md:grid-cols-2 gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"Name\",\n        value: form.name,\n        onChange: e => setForm({\n          ...form,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"Price\",\n        type: \"number\",\n        value: form.price,\n        onChange: e => setForm({\n          ...form,\n          price: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"Contact number\",\n        value: form.contactNumber,\n        onChange: e => setForm({\n          ...form,\n          contactNumber: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"Places (comma-separated)\",\n        value: form.places,\n        onChange: e => setForm({\n          ...form,\n          places: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        placeholder: \"Days\",\n        type: \"number\",\n        value: form.days,\n        onChange: e => setForm({\n          ...form,\n          days: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"input md:col-span-2\",\n        placeholder: \"Description\",\n        value: form.description,\n        onChange: e => setForm({\n          ...form,\n          description: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        multiple: true,\n        onChange: e => setFiles(e.target.files)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n      children: tours.map(t => {\n        var _t$photos, _t$photos$;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [((_t$photos = t.photos) === null || _t$photos === void 0 ? void 0 : (_t$photos$ = _t$photos[0]) === null || _t$photos$ === void 0 ? void 0 : _t$photos$.url) && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: t.photos[0].url,\n            className: \"w-full h-44 object-cover rounded-xl mb-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold\",\n            children: t.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: [t.days, \" days \\u2022 Rs \", t.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline mt-2\",\n            onClick: () => onDelete(t._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, t._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminTours, \"ZJw26EWrvddhC0wfJmlOmgozhkQ=\");\n_c = AdminTours;\nvar _c;\n$RefreshReg$(_c, \"AdminTours\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","AdminTours","_s","tours","setTours","form","setForm","name","price","contactNumber","places","days","description","files","setFiles","load","data","get","onCreate","e","preventDefault","fd","FormData","Object","entries","forEach","k","v","append","Array","from","f","post","headers","onDelete","id","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","type","accept","multiple","map","t","_t$photos","_t$photos$","photos","url","src","onClick","_id","_c","$RefreshReg$"],"sources":["E:/Tour guide/uk-tours/frontend/src/pages/AdminTours.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/client.js';\r\n\r\nexport default function AdminTours(){\r\n  const [tours, setTours] = useState([]);\r\n  const [form, setForm] = useState({ name:'', price:'', contactNumber:'', places:'', days:'', description:'' });\r\n  const [files, setFiles] = useState([]);\r\n\r\n  const load = async()=>{ const { data } = await api.get('/tours'); setTours(data); };\r\n  useEffect(()=>{ load(); },[]);\r\n\r\n  const onCreate = async(e)=>{\r\n    e.preventDefault();\r\n    const fd = new FormData();\r\n    Object.entries(form).forEach(([k,v])=> fd.append(k, v));\r\n    Array.from(files).forEach(f=> fd.append('photos', f));\r\n    await api.post('/tours', fd, { headers: { 'Content-Type': 'multipart/form-data' }});\r\n    setForm({ name:'', price:'', contactNumber:'', places:'', days:'', description:'' });\r\n    setFiles([]);\r\n    await load();\r\n  };\r\n\r\n  const onDelete = async(id)=>{ await api.delete(`/tours/${id}`); await load(); };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Manage Tours</h1>\r\n      <form onSubmit={onCreate} className=\"card grid md:grid-cols-2 gap-3\">\r\n        <input className=\"input\" placeholder=\"Name\" value={form.name} onChange={e=>setForm({...form, name:e.target.value})} />\r\n        <input className=\"input\" placeholder=\"Price\" type=\"number\" value={form.price} onChange={e=>setForm({...form, price:e.target.value})} />\r\n        <input className=\"input\" placeholder=\"Contact number\" value={form.contactNumber} onChange={e=>setForm({...form, contactNumber:e.target.value})} />\r\n        <input className=\"input\" placeholder=\"Places (comma-separated)\" value={form.places} onChange={e=>setForm({...form, places:e.target.value})} />\r\n        <input className=\"input\" placeholder=\"Days\" type=\"number\" value={form.days} onChange={e=>setForm({...form, days:e.target.value})} />\r\n        <textarea className=\"input md:col-span-2\" placeholder=\"Description\" value={form.description} onChange={e=>setForm({...form, description:e.target.value})} />\r\n        <input type=\"file\" accept=\"image/*\" multiple onChange={e=>setFiles(e.target.files)} />\r\n        <button className=\"btn btn-primary\">Create</button>\r\n      </form>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {tours.map(t => (\r\n          <div key={t._id} className=\"card\">\r\n            {t.photos?.[0]?.url && <img src={t.photos[0].url} className=\"w-full h-44 object-cover rounded-xl mb-3\"/>}\r\n            <h3 className=\"font-semibold\">{t.name}</h3>\r\n            <p className=\"text-sm text-gray-500\">{t.days} days • Rs {t.price}</p>\r\n            <button className=\"btn btn-outline mt-2\" onClick={()=>onDelete(t._id)}>Delete</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}